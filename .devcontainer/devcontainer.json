{
  "name": "CIS2152",
  "build": {
    "dockerfile": "Dockerfile",
    "args": { "VARIANT": "jammy" }
  },
  "otherPortsAttributes": { "onAutoForward": "openBrowser"},
  "onCreateCommand": "sudo apt update && sudo apt-get install bash -y && sudo apt install software-properties-common -y && sudo apt install libarchive-tools -y && curl -sL https://deb.nodesource.com/setup_16.x | sudo bash - && sudo apt -y install nodejs && sudo apt-get install gcc g++ make && curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null echo \"deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list && sudo apt-get update && sudo apt-get install yarn -y && npm install --global mocha && echo \"alias mocha='/workspace/node_modules/mocha/bin/mocha.js'\" >> ~/.bashrc && sudo add-apt-repository ppa:ondrej/php -y && sudo apt update --fix-missing  && sudo apt install -y php8.2 && sudo apt install php8.2-mbstring php8.2-tokenizer php8.2-xml php8.2-xmlwriter && php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\" && php -r \"if (hash_file('sha384', 'composer-setup.php') === '55ce33d7678c5a611085589f1f3ddf8b3c52d662cd01d4ba75c0ee0459970c2200a51f492d557530c71c15d8dba01eae') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\" && php composer-setup.php php -r \"unlink('composer-setup.php');\" && sudo mv composer.phar /usr/local/bin/composer && wget -O phpunit.phar https://phar.phpunit.de/phpunit-10.phar && chmod +x phpunit.phar && sudo mv phpunit.phar /usr/local/bin/phpunit && mkdir -p tutorials/{ week01,week02,week03,week04,week05,week06,week07,week08,week09,week10,week11,week12 } tasks/{ task01,task02,task03,task04,task05 }",
  "postCreateCommand" : "sh prepare.sh",
  "runArgs": ["--name", "${localEnv:USER}_CIS2152-2023-Development-Environment"],
  "remoteUser": "root"
}
